(this["webpackJsonpmap-forecast"]=this["webpackJsonpmap-forecast"]||[]).push([[0],{162:function(n,e,t){"use strict";t.r(e);var c,i,a,o,s=t(0),r=t.n(s),d=t(38),l=t.n(d),u=(t(89),t(20)),j=t(19),b=t.n(j),p=t(25),x=t(22),h=t(5),m=t(31),f=t(21),O=t(79),g=t.n(O),v=t(43),w=t.n(v),y=t(80),N=t(3),k=function(n){var e=n.value,t=n.onChange,c=n.placeholder,i=void 0===c?"":c,a=n.onBlur,o=void 0===a?function(){}:a,s=n.onFocus,r=void 0===s?function(){}:s;return Object(N.jsx)(S,{children:Object(N.jsx)("input",{type:"text",value:e,onChange:t,placeholder:i,onFocus:r,onBlur:o})})},S=f.a.div(c||(c=Object(u.a)(["\n    input {\n        outline: none;\n        padding: 5px 10px;\n        min-width: 250px;\n    }\n"]))),F=function(n){var e=n.imgPath;return Object(N.jsx)(C,{children:Object(N.jsx)("img",{src:e,alt:""})})},C=f.a.div(i||(i=Object(u.a)(["\n    width: 20px;\n    cursor: pointer;\n\n    img {\n        width: 100%;\n    }\n"]))),D=t(83),L=Object(s.memo)((function(n){var e=n.data;return Object(N.jsxs)(_,{children:[Object(N.jsxs)("div",{className:"heading",children:["Location: ",e.location.name]}),Object(N.jsxs)("div",{className:"main",children:[Object(N.jsxs)("div",{className:"image",children:[Object(N.jsx)("img",{src:e.current.condition.icon,alt:""}),Object(N.jsx)("p",{className:"text",children:e.current.condition.text})]}),Object(N.jsxs)("div",{className:"weather",children:[Object(N.jsx)("div",{className:"day",children:"".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1)}),Object(N.jsxs)("div",{className:"temp",children:[Object(N.jsx)("span",{children:"Temperature: "}),Object(N.jsxs)("span",{className:"c",children:[e.current.temp_c,"\xb0C"]}),Object(N.jsxs)("span",{className:"f",children:[e.current.temp_f,"\xb0F"]})]}),Object(N.jsxs)("div",{className:"wind",children:["Wind Speed: ",e.current.wind_kph," Km/h"]}),Object(N.jsxs)("div",{className:"uv",children:["UV: ",e.current.uv]})]})]}),Object(N.jsx)("div",{className:"forecast",children:e.forecast.forecastday.map((function(n,e){return Object(N.jsxs)("div",{className:"forecastItem",children:[Object(N.jsx)("div",{className:"day",children:"".concat(new Date(n.date).getDate(),"/").concat(new Date(n.date).getMonth()+1)}),Object(N.jsx)("div",{className:"image",children:Object(N.jsx)("img",{src:n.day.condition.icon,alt:""})}),Object(N.jsxs)("div",{className:"temp",children:[n.day.mintemp_c.toFixed(1)," -"," ",n.day.maxtemp_c.toFixed(1),"\xb0C",Object(N.jsx)("br",{}),n.day.mintemp_f.toFixed(1)," -"," ",n.day.maxtemp_f.toFixed(1),"\xb0F"]})]},e)}))})]})})),z=Object(s.memo)((function(n){var e=n.data,t=n.isShowPopup,c=n.isLoading,i=n.onClose;return Object(N.jsxs)(T,{isShowPopup:t,children:[Object(N.jsx)("button",{className:"closeBtn",onClick:i,children:"\xd7"}),c?Object(N.jsx)("div",{className:"loading",children:Object(N.jsx)(D.RingLoader,{size:30,color:"#000"})}):e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"heading",children:["Location: ",e.location.name]}),Object(N.jsxs)("div",{className:"main",children:[Object(N.jsxs)("div",{className:"image",children:[Object(N.jsx)("img",{src:e.current.condition.icon,alt:""}),Object(N.jsx)("p",{className:"text",children:e.current.condition.text})]}),Object(N.jsxs)("div",{className:"weather",children:[Object(N.jsx)("div",{className:"day",children:"".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1)}),Object(N.jsxs)("div",{className:"temp",children:[Object(N.jsx)("span",{children:"Temperature: "}),Object(N.jsxs)("span",{className:"c",children:[e.current.temp_c,"\xb0C"]}),Object(N.jsxs)("span",{className:"f",children:[e.current.temp_f,"\xb0F"]})]}),Object(N.jsxs)("div",{className:"wind",children:["Wind Speed: ",e.current.wind_kph," Km/h"]}),Object(N.jsxs)("div",{className:"uv",children:["UV: ",e.current.uv]})]})]}),Object(N.jsx)("div",{className:"forecast",children:e.forecast.forecastday.map((function(n,e){return Object(N.jsxs)("div",{className:"forecastItem",children:[Object(N.jsx)("div",{className:"day",children:"".concat(new Date(n.date).getDate(),"/").concat(new Date(n.date).getMonth()+1)}),Object(N.jsx)("div",{className:"image",children:Object(N.jsx)("img",{src:n.day.condition.icon,alt:""})}),Object(N.jsxs)("div",{className:"temp",children:[n.day.mintemp_c.toFixed(1)," -"," ",n.day.maxtemp_c.toFixed(1),"\xb0C",Object(N.jsx)("br",{}),n.day.mintemp_f.toFixed(1)," - ",n.day.maxtemp_f.toFixed(1),"\xb0F"]})]},e)}))})]}):Object(N.jsx)(N.Fragment,{})]})})),_=f.a.div(a||(a=Object(u.a)(["\n    .heading {\n        text-align: center;\n        padding: 0 10px;\n        font-size: 20px;\n        font-weight: 700;\n    }\n\n    .day {\n        font-weight: 700;\n    }\n\n    .main {\n        display: flex;\n        align-items: stretch;\n        padding-bottom: 10px;\n        font-size: 14px;\n\n        .image {\n            padding: 0 10px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n\n        .weather {\n            padding: 10px;\n\n            .f {\n                margin-left: 10px;\n            }\n        }\n    }\n\n    .forecast {\n        padding-top: 5px;\n        border-top: 1px solid #ccc;\n        display: flex;\n\n        .forecastItem {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n\n            .temp {\n                font-size: 13px;\n            }\n        }\n    }\n"]))),T=Object(f.a)(_)(o||(o=Object(u.a)(["\n    z-index: 1;\n    position: fixed;\n    bottom: ",";\n    left: 0;\n    background-color: #fff;\n    width: 100%;\n    padding: 10px 0;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n    border-top: 1px solid #ccc;\n    transition: 700ms;\n\n    .closeBtn {\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 30px;\n        height: 30px;\n        font-size: 20px;\n        appearance: none;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid #3a3939;\n        outline: none;\n    }\n\n    .loading {\n        padding: 30px;\n        width: 100%;\n        display: flex;\n        justify-content: center;\n\n        > span {\n            display: inline-block;\n            position: relative;\n            left: -5px;\n        }\n    }\n\n    .heading {\n        text-align: left;\n        padding-left: 10px;\n    }\n"])),(function(n){return n.isShowPopup?0:"-1000px"})),B=t(84),I=t.n(B),M=function(n){var e="search.json?key=".concat("692c04c267b14a41b0424034211009","&q=").concat(n);return A.get(e)},P=function(n){var e="forecast.json?key=".concat("692c04c267b14a41b0424034211009","&q=").concat(n,"&days=3");return A.get(e)},E=t(157),V=I.a.create({baseURL:"https://api.weatherapi.com/v1",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},paramsSerializer:function(n){return E.stringify(n)}});V.interceptors.request.use((function(n){return n})),V.interceptors.response.use((function(n){return n&&n.data?n.data:n}));var A=V;function H(){var n=window;return{width:n.innerWidth,height:n.innerHeight}}var J,Y,q,W=function(n){return new Promise((function(e){setTimeout((function(){e("")}),n)}))},G=f.a.div(J||(J=Object(u.a)(["\n    height: 100vh;\n\n    .searchBox {\n        position: fixed;\n        z-index: 1;\n        top: 10px;\n        right: 10px;\n\n        .loading {\n            position: absolute;\n            top: 2px;\n            right: calc(100% + 25px);\n            /* transform: translateY(-50%); */\n        }\n    }\n\n    .toggleDarkMode {\n        position: fixed;\n        top: 10px;\n        left: 10px;\n        z-index: 1;\n        width: 30px;\n        height: 30px;\n\n        svg {\n            width: 100%;\n            height: 100%;\n        }\n    }\n"]))),R=f.a.div(Y||(Y=Object(u.a)(["\n    position: absolute;\n    top: 100%;\n    left: 0;\n    background-color: #fff;\n    width: 100%;\n    border: 1px solid #6b6969;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.5);\n\n    .listLocations {\n        max-height: 200px;\n        overflow-y: scroll;\n        /* width */\n        ::-webkit-scrollbar {\n            width: 2px;\n        }\n\n        /* Track */\n        ::-webkit-scrollbar-track {\n            background: #f1f1f1;\n        }\n\n        /* Handle */\n        ::-webkit-scrollbar-thumb {\n            background: #888;\n        }\n\n        /* Handle on hover */\n        ::-webkit-scrollbar-thumb:hover {\n            background: #555;\n        }\n\n        .resultItem {\n            padding: 5px 10px;\n            cursor: pointer;\n\n            &:hover {\n                background-color: #ccc;\n            }\n        }\n    }\n\n    .noItem {\n        padding: 5px 10px;\n    }\n"]))),Z=f.a.div(q||(q=Object(u.a)(["\n    padding: 30px;\n\n    > span {\n        display: inline-block;\n        position: relative;\n        left: -5px;\n    }\n"]))),U=function(){var n=Object(s.useState)({latitude:37.7577,longitude:-122.4376,zoom:10,width:"100%",height:"100%",pitch:40}),e=Object(h.a)(n,2),t=e[0],c=e[1],i=Object(s.useState)({latitude:0,longitude:0}),a=Object(h.a)(i,2),o=a[0],r=a[1],d=Object(s.useState)(""),l=Object(h.a)(d,2),u=l[0],j=l[1],f=Object(s.useState)(!1),O=Object(h.a)(f,2),v=O[0],S=O[1],C=Object(s.useState)(!1),D=Object(h.a)(C,2),_=D[0],T=D[1],B=Object(s.useState)([]),I=Object(h.a)(B,2),E=I[0],V=I[1],A=Object(s.useState)(!1),J=Object(h.a)(A,2),Y=J[0],q=J[1],U=Object(s.useState)(!1),K=Object(h.a)(U,2),X=K[0],Q=K[1],$=Object(s.useState)(!1),nn=Object(h.a)($,2),en=nn[0],tn=nn[1],cn=Object(s.useState)(null),an=Object(h.a)(cn,2),on=an[0],sn=an[1],rn=Object(s.useState)(!1),dn=Object(h.a)(rn,2),ln=dn[0],un=dn[1],jn=function(){var n=Object(s.useState)(H()),e=Object(h.a)(n,2),t=e[0],c=e[1];return Object(s.useEffect)((function(){function n(){c(H())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),t}().width;Object(s.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(n){r({latitude:n.coords.latitude,longitude:n.coords.longitude}),c((function(e){return Object(x.a)(Object(x.a)({},e),{},{latitude:n.coords.latitude,longitude:n.coords.longitude})})),T(!0),P("".concat(n.coords.latitude,",").concat(n.coords.longitude)).then((function(n){return sn(Object(x.a)(Object(x.a)({},n),{},{location:Object(x.a)(Object(x.a)({},n.location),{},{name:"Your location"})}))})).catch((function(n){sn(null),console.log(n)})).finally((function(){return T(!1)}))}))}),[]),Object(s.useEffect)((function(){q(X)}),[X]),function(n,e,t){var c=Object(s.useCallback)(n,t);Object(s.useEffect)((function(){var n=setTimeout((function(){c()}),e);return function(){clearTimeout(n)}}),[c,e])}((function(){u.trim()?(S(!0),M(g()(u.trim())).then((function(n){V(n)})).catch((function(n){V([]),console.log(n)})).finally((function(){return S(!1)}))):V([])}),500,[u]);var bn=function(){var n=Object(p.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W(150);case 2:Q(!1);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(N.jsxs)(G,{className:"App",children:[Object(N.jsx)("div",{className:"toggleDarkMode",children:Object(N.jsx)(y.DarkModeSwitch,{checked:ln,onChange:function(n){return un(n)},size:120})}),Object(N.jsxs)("div",{className:"searchBox",children:[Object(N.jsx)(k,{value:u,onChange:function(n){n&&j(n.target.value)},placeholder:"Enter city name",onBlur:bn,onFocus:function(){Q(!0)}}),Y&&Object(N.jsx)(R,{children:E.length?Object(N.jsx)("div",{className:"listLocations",children:E.map((function(n){return Object(N.jsx)("div",{className:"resultItem",onClick:function(){return r({latitude:(e=n).lat,longitude:e.lon}),c((function(n){return Object(x.a)(Object(x.a)({},n),{},{latitude:e.lat,longitude:e.lon})})),T(!0),sn(null),tn(!0),void P(e.url).then((function(n){sn(n)})).catch((function(n){console.log(n)})).finally((function(){return T(!1)}));var e},children:n.name},n.id)}))}):Object(N.jsx)("div",{className:"noItem",children:"No items"})}),v&&Object(N.jsx)("div",{className:"loading",children:Object(N.jsx)(w.a,{size:25,color:"#fff"})})]}),Object(N.jsxs)(m.c,Object(x.a)(Object(x.a)({},t),{},{mapboxApiAccessToken:"pk.eyJ1IjoiYnVpZHVjbG9uZzA1MTEiLCJhIjoiY2txbjVtN3VoMGpsaDJucGVvOHp0ZTloeSJ9.YAaMnWsbweLGQZYTELbPyA",width:"100%",height:"100%",onViewportChange:function(n){return c(n)},mapStyle:ln?"mapbox://styles/mapbox/dark-v9":"mapbox://styles/mapbox/light-v9",children:[Object(N.jsx)(m.a,{latitude:o.latitude,longitude:o.longitude,offsetLeft:-10,offsetTop:-27,onClick:function(){tn(!en)},children:Object(N.jsx)(F,{imgPath:"images/map_pin_icon.png"})}),en&&jn>767?_?Object(N.jsx)(m.b,{latitude:o.latitude,longitude:o.longitude,closeButton:!1,anchor:"top",children:Object(N.jsx)(Z,{children:Object(N.jsx)(w.a,{size:30,color:"#000"})})}):on?Object(N.jsx)(m.b,{latitude:o.latitude,longitude:o.longitude,closeButton:!1,anchor:"top",children:Object(N.jsx)(L,{data:on})}):Object(N.jsx)(m.b,{latitude:o.latitude,longitude:o.longitude,closeButton:!1,anchor:"top",children:Object(N.jsx)("div",{className:"noInfo",children:"No information"})}):Object(N.jsx)(N.Fragment,{})]})),jn<=767&&Object(N.jsx)(z,{data:on,isShowPopup:en,isLoading:_,onClose:function(){return tn(!1)}})]})},K=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,163)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;t(n),c(n),i(n),a(n),o(n)}))};l.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(U,{})}),document.getElementById("root")),K()},89:function(n,e,t){}},[[162,1,2]]]);
//# sourceMappingURL=main.04dc31a6.chunk.js.map