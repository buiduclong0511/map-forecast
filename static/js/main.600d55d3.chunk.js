(this["webpackJsonpmap-forecast"]=this["webpackJsonpmap-forecast"]||[]).push([[0],{163:function(n,e,t){"use strict";t.r(e);var c,i,a,o,s=t(0),r=t.n(s),d=t(39),l=t.n(d),u=(t(89),t(20)),j=t(19),b=t.n(j),p=t(25),x=t(22),h=t(5),m=t(31),f=t(21),O=t(79),g=t.n(O),v=t(44),w=t.n(v),y=t(80),N=t(37),k=t.n(N),S=t(3),C=function(n){var e=n.value,t=n.onChange,c=n.placeholder,i=void 0===c?"":c,a=n.onBlur,o=void 0===a?function(){}:a,s=n.onFocus,r=void 0===s?function(){}:s;return Object(S.jsx)(F,{children:Object(S.jsx)("input",{type:"text",value:e,onChange:t,placeholder:i,onFocus:r,onBlur:o})})},F=f.a.div(c||(c=Object(u.a)(["\n    input {\n        outline: none;\n        padding: 5px 10px;\n        min-width: 250px;\n    }\n"]))),D=function(n){var e=n.imgPath;return Object(S.jsx)(L,{children:Object(S.jsx)("img",{src:e,alt:""})})},L=f.a.div(i||(i=Object(u.a)(["\n    width: 20px;\n    cursor: pointer;\n\n    img {\n        width: 100%;\n    }\n"]))),z=t(83),_=Object(s.memo)((function(n){var e=n.data;return Object(S.jsxs)(B,{children:[Object(S.jsxs)("div",{className:"heading",children:["Location: ",e.location.name]}),Object(S.jsxs)("div",{className:"main",children:[Object(S.jsxs)("div",{className:"image",children:[Object(S.jsx)("img",{src:e.current.condition.icon,alt:""}),Object(S.jsx)("p",{className:"text",children:e.current.condition.text})]}),Object(S.jsxs)("div",{className:"weather",children:[Object(S.jsx)("div",{className:"day",children:"".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1)}),Object(S.jsxs)("div",{className:"temp",children:[Object(S.jsx)("span",{children:"Temperature: "}),Object(S.jsxs)("span",{className:"c",children:[e.current.temp_c,"\xb0C"]}),Object(S.jsxs)("span",{className:"f",children:[e.current.temp_f,"\xb0F"]})]}),Object(S.jsxs)("div",{className:"wind",children:["Wind Speed: ",e.current.wind_kph," Km/h"]}),Object(S.jsxs)("div",{className:"uv",children:["UV: ",e.current.uv]})]})]}),Object(S.jsx)("div",{className:"forecast",children:e.forecast.forecastday.map((function(n,e){return Object(S.jsxs)("div",{className:"forecastItem",children:[Object(S.jsx)("div",{className:"day",children:"".concat(new Date(n.date).getDate(),"/").concat(new Date(n.date).getMonth()+1)}),Object(S.jsx)("div",{className:"image",children:Object(S.jsx)("img",{src:n.day.condition.icon,alt:""})}),Object(S.jsxs)("div",{className:"temp",children:[n.day.mintemp_c.toFixed(1)," -"," ",n.day.maxtemp_c.toFixed(1),"\xb0C",Object(S.jsx)("br",{}),n.day.mintemp_f.toFixed(1)," -"," ",n.day.maxtemp_f.toFixed(1),"\xb0F"]})]},e)}))})]})})),T=Object(s.memo)((function(n){var e=n.data,t=n.isShowPopup,c=n.isLoading,i=n.onClose;return Object(S.jsxs)(I,{isShowPopup:t,children:[Object(S.jsx)("button",{className:"closeBtn",onClick:i,children:"\xd7"}),c?Object(S.jsx)("div",{className:"loading",children:Object(S.jsx)(z.RingLoader,{size:30,color:"#000"})}):e?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"heading",children:["Location: ",e.location.name]}),Object(S.jsxs)("div",{className:"main",children:[Object(S.jsxs)("div",{className:"image",children:[Object(S.jsx)("img",{src:e.current.condition.icon,alt:""}),Object(S.jsx)("p",{className:"text",children:e.current.condition.text})]}),Object(S.jsxs)("div",{className:"weather",children:[Object(S.jsx)("div",{className:"day",children:"".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1)}),Object(S.jsxs)("div",{className:"temp",children:[Object(S.jsx)("span",{children:"Temperature: "}),Object(S.jsxs)("span",{className:"c",children:[e.current.temp_c,"\xb0C"]}),Object(S.jsxs)("span",{className:"f",children:[e.current.temp_f,"\xb0F"]})]}),Object(S.jsxs)("div",{className:"wind",children:["Wind Speed: ",e.current.wind_kph," Km/h"]}),Object(S.jsxs)("div",{className:"uv",children:["UV: ",e.current.uv]})]})]}),Object(S.jsx)("div",{className:"forecast",children:e.forecast.forecastday.map((function(n,e){return Object(S.jsxs)("div",{className:"forecastItem",children:[Object(S.jsx)("div",{className:"day",children:"".concat(new Date(n.date).getDate(),"/").concat(new Date(n.date).getMonth()+1)}),Object(S.jsx)("div",{className:"image",children:Object(S.jsx)("img",{src:n.day.condition.icon,alt:""})}),Object(S.jsxs)("div",{className:"temp",children:[n.day.mintemp_c.toFixed(1)," -"," ",n.day.maxtemp_c.toFixed(1),"\xb0C",Object(S.jsx)("br",{}),n.day.mintemp_f.toFixed(1)," - ",n.day.maxtemp_f.toFixed(1),"\xb0F"]})]},e)}))})]}):Object(S.jsx)(S.Fragment,{})]})})),B=f.a.div(a||(a=Object(u.a)(["\n    .heading {\n        text-align: center;\n        padding: 0 10px;\n        font-size: 20px;\n        font-weight: 700;\n    }\n\n    .day {\n        font-weight: 700;\n    }\n\n    .main {\n        display: flex;\n        align-items: stretch;\n        padding-bottom: 10px;\n        font-size: 14px;\n\n        .image {\n            padding: 0 10px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n        }\n\n        .weather {\n            padding: 10px;\n\n            .f {\n                margin-left: 10px;\n            }\n        }\n    }\n\n    .forecast {\n        padding-top: 5px;\n        border-top: 1px solid #ccc;\n        display: flex;\n\n        .forecastItem {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n\n            .temp {\n                font-size: 13px;\n            }\n        }\n    }\n"]))),I=Object(f.a)(B)(o||(o=Object(u.a)(["\n    z-index: 1;\n    position: fixed;\n    bottom: ",";\n    left: 0;\n    background-color: #fff;\n    width: 100%;\n    padding: 10px 0;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n    border-top: 1px solid #ccc;\n    transition: 700ms;\n\n    .closeBtn {\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 30px;\n        height: 30px;\n        font-size: 20px;\n        appearance: none;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid #3a3939;\n        outline: none;\n    }\n\n    .loading {\n        padding: 30px;\n        width: 100%;\n        display: flex;\n        justify-content: center;\n\n        > span {\n            display: inline-block;\n            position: relative;\n            left: -5px;\n        }\n    }\n\n    .heading {\n        text-align: left;\n        padding-left: 10px;\n    }\n"])),(function(n){return n.isShowPopup?0:"-1000px"})),M=t(84),P=t.n(M),E=function(n){var e="search.json?key=".concat("692c04c267b14a41b0424034211009","&q=").concat(n);return J.get(e)},V=function(n){var e="forecast.json?key=".concat("692c04c267b14a41b0424034211009","&q=").concat(n,"&days=3");return J.get(e)},A=t(157),H=P.a.create({baseURL:"https://api.weatherapi.com/v1",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},paramsSerializer:function(n){return A.stringify(n)}});H.interceptors.request.use((function(n){return n})),H.interceptors.response.use((function(n){return n&&n.data?n.data:n}));var J=H;function Y(){var n=window;return{width:n.innerWidth,height:n.innerHeight}}var q,W,G,R=function(n){return new Promise((function(e){setTimeout((function(){e("")}),n)}))};k.a.workerClass=t(162).default;var Z=f.a.div(q||(q=Object(u.a)(["\n    height: 100vh;\n\n    .searchBox {\n        position: fixed;\n        z-index: 1;\n        top: 10px;\n        right: 10px;\n\n        .loading {\n            position: absolute;\n            top: 2px;\n            right: calc(100% + 25px);\n            /* transform: translateY(-50%); */\n        }\n    }\n\n    .toggleDarkMode {\n        position: fixed;\n        top: 10px;\n        left: 10px;\n        z-index: 1;\n        width: 30px;\n        height: 30px;\n\n        svg {\n            width: 100%;\n            height: 100%;\n        }\n    }\n"]))),U=f.a.div(W||(W=Object(u.a)(["\n    position: absolute;\n    top: 100%;\n    left: 0;\n    background-color: #fff;\n    width: 100%;\n    border: 1px solid #6b6969;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.5);\n\n    .listLocations {\n        max-height: 200px;\n        overflow-y: scroll;\n        /* width */\n        ::-webkit-scrollbar {\n            width: 2px;\n        }\n\n        /* Track */\n        ::-webkit-scrollbar-track {\n            background: #f1f1f1;\n        }\n\n        /* Handle */\n        ::-webkit-scrollbar-thumb {\n            background: #888;\n        }\n\n        /* Handle on hover */\n        ::-webkit-scrollbar-thumb:hover {\n            background: #555;\n        }\n\n        .resultItem {\n            padding: 5px 10px;\n            cursor: pointer;\n\n            &:hover {\n                background-color: #ccc;\n            }\n        }\n    }\n\n    .noItem {\n        padding: 5px 10px;\n    }\n"]))),K=f.a.div(G||(G=Object(u.a)(["\n    padding: 30px;\n\n    > span {\n        display: inline-block;\n        position: relative;\n        left: -5px;\n    }\n"]))),X=function(){var n=Object(s.useState)({latitude:37.7577,longitude:-122.4376,zoom:10,width:"100%",height:"100%",pitch:40}),e=Object(h.a)(n,2),t=e[0],c=e[1],i=Object(s.useState)({latitude:0,longitude:0}),a=Object(h.a)(i,2),o=a[0],r=a[1],d=Object(s.useState)(""),l=Object(h.a)(d,2),u=l[0],j=l[1],f=Object(s.useState)(!1),O=Object(h.a)(f,2),v=O[0],N=O[1],k=Object(s.useState)(!1),F=Object(h.a)(k,2),L=F[0],z=F[1],B=Object(s.useState)([]),I=Object(h.a)(B,2),M=I[0],P=I[1],A=Object(s.useState)(!1),H=Object(h.a)(A,2),J=H[0],q=H[1],W=Object(s.useState)(!1),G=Object(h.a)(W,2),X=G[0],Q=G[1],$=Object(s.useState)(!1),nn=Object(h.a)($,2),en=nn[0],tn=nn[1],cn=Object(s.useState)(null),an=Object(h.a)(cn,2),on=an[0],sn=an[1],rn=Object(s.useState)(!1),dn=Object(h.a)(rn,2),ln=dn[0],un=dn[1],jn=function(){var n=Object(s.useState)(Y()),e=Object(h.a)(n,2),t=e[0],c=e[1];return Object(s.useEffect)((function(){function n(){c(Y())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),t}().width;Object(s.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(n){r({latitude:n.coords.latitude,longitude:n.coords.longitude}),c((function(e){return Object(x.a)(Object(x.a)({},e),{},{latitude:n.coords.latitude,longitude:n.coords.longitude})})),z(!0),V("".concat(n.coords.latitude,",").concat(n.coords.longitude)).then((function(n){return sn(Object(x.a)(Object(x.a)({},n),{},{location:Object(x.a)(Object(x.a)({},n.location),{},{name:"Your location"})}))})).catch((function(n){sn(null),console.log(n)})).finally((function(){return z(!1)}))}))}),[]),Object(s.useEffect)((function(){q(X)}),[X]),function(n,e,t){var c=Object(s.useCallback)(n,t);Object(s.useEffect)((function(){var n=setTimeout((function(){c()}),e);return function(){clearTimeout(n)}}),[c,e])}((function(){u.trim()?(N(!0),E(g()(u.trim())).then((function(n){P(n)})).catch((function(n){P([]),console.log(n)})).finally((function(){return N(!1)}))):P([])}),500,[u]);var bn=function(){var n=Object(p.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R(150);case 2:Q(!1);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(S.jsxs)(Z,{className:"App",children:[Object(S.jsx)("div",{className:"toggleDarkMode",children:Object(S.jsx)(y.DarkModeSwitch,{checked:ln,onChange:function(n){return un(n)},size:120})}),Object(S.jsxs)("div",{className:"searchBox",children:[Object(S.jsx)(C,{value:u,onChange:function(n){n&&j(n.target.value)},placeholder:"Enter city name",onBlur:bn,onFocus:function(){Q(!0)}}),J&&Object(S.jsx)(U,{children:M.length?Object(S.jsx)("div",{className:"listLocations",children:M.map((function(n){return Object(S.jsx)("div",{className:"resultItem",onClick:function(){return r({latitude:(e=n).lat,longitude:e.lon}),c((function(n){return Object(x.a)(Object(x.a)({},n),{},{latitude:e.lat,longitude:e.lon})})),z(!0),sn(null),tn(!0),void V(e.url).then((function(n){sn(n)})).catch((function(n){console.log(n)})).finally((function(){return z(!1)}));var e},children:n.name},n.id)}))}):Object(S.jsx)("div",{className:"noItem",children:"No items"})}),v&&Object(S.jsx)("div",{className:"loading",children:Object(S.jsx)(w.a,{size:25,color:ln?"#fff":"#000"})})]}),Object(S.jsxs)(m.c,Object(x.a)(Object(x.a)({},t),{},{mapboxApiAccessToken:"pk.eyJ1IjoiYnVpZHVjbG9uZzA1MTEiLCJhIjoiY2txbjVtN3VoMGpsaDJucGVvOHp0ZTloeSJ9.YAaMnWsbweLGQZYTELbPyA",width:"100%",height:"100%",onViewportChange:function(n){return c(n)},mapStyle:ln?"mapbox://styles/mapbox/dark-v9":"mapbox://styles/mapbox/light-v9",children:[Object(S.jsx)(m.a,{latitude:o.latitude,longitude:o.longitude,offsetLeft:-10,offsetTop:-27,onClick:function(){tn(!en)},children:Object(S.jsx)(D,{imgPath:"images/map_pin_icon.png"})}),en&&jn>767?L?Object(S.jsx)(m.b,{latitude:o.latitude,longitude:o.longitude,closeButton:!1,anchor:"top",children:Object(S.jsx)(K,{children:Object(S.jsx)(w.a,{size:30,color:"#000"})})}):on?Object(S.jsx)(m.b,{latitude:o.latitude,longitude:o.longitude,closeButton:!1,anchor:"top",children:Object(S.jsx)(_,{data:on})}):Object(S.jsx)(m.b,{latitude:o.latitude,longitude:o.longitude,closeButton:!1,anchor:"top",children:Object(S.jsx)("div",{className:"noInfo",children:"No information"})}):Object(S.jsx)(S.Fragment,{})]})),jn<=767&&Object(S.jsx)(T,{data:on,isShowPopup:en,isLoading:L,onClose:function(){return tn(!1)}})]})},Q=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,164)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;t(n),c(n),i(n),a(n),o(n)}))};l.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(X,{})}),document.getElementById("root")),Q()},89:function(n,e,t){}},[[163,1,2]]]);
//# sourceMappingURL=main.600d55d3.chunk.js.map